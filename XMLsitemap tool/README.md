# Sitemap tools for IEDA

This directory contains files for generating a sitemap.xml file for metadata in the web-accessible get.iedatada.org/doi.

## Files:
### xml-sitemap.php
This PHP script generate sitemap from the IEDA get.iedatada.org/doi directory, which contains datacite XML metadata  for the EarthChem Library (ECL) and Marine-Geo Digital Library (MGDL).  GETS from the http://get.iedadata.org/doi/ directory are redirected by the .htaccess file to transform the xml to html; the transformation inserts a schema.org JSON-LD script in the html <head> section for use by  google and other search engines.  The code for the transformations is located in https://github.com/iedadata/resources/tree/master/DataCiteXMLTransforms

Read more about the original code here: [XML Sitemap PHP script](http://yoast.com/xml-sitemap-php-script/).

### config.php
sets locations to read files that will be added to the sitemap, the location of the sitemap xml to html XML transform file (currently in same directory), and a couple of options for program execution; see comments in file.

### xml-sitemap.xsl
xml transform that converts sitemap or sitemap index xml into html files for viewing in a browser.  Invoked by an <?xml-stylesheet... directive in the headers for the sitemap.xml file that is generated. 

### jdevalk-XML-Sitemap-PHP-Script- Easily create XML sitemaps for directories with static files
link to original location where the php script was found.

### config-sample.php
Config file with dummy values to use as starter for creating custom config files in new environments

## Configuration

Open the config.php file and configure the settings for the sitemap generation. 
Then check the output and if it's ok, add the script URL to Google Webmaster Tools.

## Deployment

xml-sitemap.php, config.php and xml-sitemap.xsl are copied to seafloor /public/mgg/web/get.iedadata.org/htdocs/doi. 
XML sitemap is accessed at http://get.iedadata.org/doi/xml-sitemap.php


## Changelog

* 2018-01-23:
    * SMR download from Yoast website and configure for use with IEDA Datacite DOI directory xml. 
	
	Write urls to access the html view of the datacite record generated by dataciteToHTMLwithSDO.xsl that includes schema.org markup. 
